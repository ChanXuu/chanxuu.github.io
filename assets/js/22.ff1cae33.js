(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{503:function(t,a,s){"use strict";s.r(a);var e=s(4),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("ol",[s("li",[t._v("首先先将 vue-cli 更新到最新版本先按照 vue2.x 的方法用 vue-cli 的方式创建一个项目")]),t._v(" "),s("li",[t._v("进到项目中,执行 "),s("code",[t._v("vue add vue-next")])]),t._v(" "),s("li",[t._v("当命令执行完,package中可以看到vue的版本已经变成了 "),s("code",[t._v("3.0.0-beta.1")]),t._v(" "),s("img",{attrs:{src:"https://note.youdao.com/yws/api/personal/file/WEB009bd5a4ef9883b374167d679de91416?method=download&shareKey=6dc35b706b4c454bc2e66e630410a5c0",alt:"package"}})])]),t._v(" "),s("h2",{attrs:{id:"钩子函数对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#钩子函数对比"}},[t._v("#")]),t._v(" 钩子函数对比")]),t._v(" "),s("p",[t._v("Vue2 与 Vue3 的生命周期勾子对比：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("Vue2.0")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Vue3.0")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("beforeCreate (实例初始化之后)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("setup(替换,组件入口)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("created (实例创建完成)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("setup(替换,组件入口)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("beforeMount (在挂载开始之前被调用)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onBeforeMount")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("mounted (实例被挂载后)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onMounted")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("beforeUpdate (数据更新时调用)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onBeforeUpdate")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("updated (虚拟 DOM 重新渲染后调用)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onUpdated")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("beforeDestroy (实例销毁之前调用)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onBeforeUnmount")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("destroyed (实例销毁后调用)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onUnmounted")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("errorCaptured (捕获一个来自子孙组件的错误时被调用)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onErrorCaptured")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("空")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onRenderTracked")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("空")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("onRenderTriggered")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[t._v("生命周期钩子注册函数需要引入才能使用,例如 "),s("code",[t._v("import { onMounted, onUpdated, onUnmounted } from 'vue'")]),t._v(" ,并且只能在 setup() 期间同步使用， 因为它们依赖于内部的全局状态来定位当前组件实例（正在调用 setup() 的组件实例）, 不在当前组件下调用这些函数会抛出一个错误。")])]),t._v(" "),s("h2",{attrs:{id:"api使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api使用"}},[t._v("#")]),t._v(" api使用")]),t._v(" "),s("p",[t._v("详细用法请参考"),s("a",{attrs:{href:"https://vue-composition-api-rfc.netlify.app/zh/api.html#setup",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网api"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" "),s("code",[t._v("setup")])]),t._v(" "),s("p",[s("code",[t._v("setup")]),t._v(" 函数是一个新的组件选项。作为在组件内使用 Composition API 的入口点。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("调用时机\n创建组件实例，然后初始化 "),s("code",[t._v("props")]),t._v(" ，紧接着就调用"),s("code",[t._v("setup")]),t._v(" 函数。从生命周期钩子的视角来看，它会在 "),s("code",[t._v("beforeCreate")]),t._v("  钩子之前被调用")])]),t._v(" "),s("li",[s("p",[t._v("可传参数")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("porps")]),t._v(" : 用法和2.x一样")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("context")]),t._v(" : 提供了一个上下文对象,有 "),s("code",[t._v("attrs")]),t._v(" ,"),s("code",[t._v("slots")]),t._v(","),s("code",[t._v("emit")])])])])]),t._v(" "),s("li",[s("p",[t._v("this")]),t._v(" "),s("p",[s("code",[t._v("this")]),t._v(" 在 "),s("code",[t._v("setup()")]),t._v("中不可用,"),s("code",[t._v("setup()")]),t._v(" 中的 "),s("code",[t._v("this")]),t._v(" 将与 2.x 选项中的 "),s("code",[t._v("this")]),t._v(" 完全不同。")])])]),t._v(" "),s("h3",{attrs:{id:"reactive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactive"}},[t._v("#")]),t._v(" "),s("code",[t._v("reactive")])]),t._v(" "),s("p",[t._v("接收一个普通对象然后返回该普通对象的响应式代理。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" number"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("响应式转换是“深层的”：会影响对象内部所有嵌套的属性。基于 ES2015 的 Proxy 实现，返回的代理对象不等于原始对象。建议仅使用代理对象而避免依赖原始对象。")]),t._v(" "),s("h3",{attrs:{id:"ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[t._v("#")]),t._v(" "),s("code",[t._v("ref")])]),t._v(" "),s("p",[t._v("接受一个参数值并返回一个响应式且可改变的 ref 对象。ref 对象拥有一个指向内部值的单一属性")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" number "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0")]),t._v("\n\nnumber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"computed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#computed"}},[t._v("#")]),t._v(" "),s("code",[t._v("computed")])]),t._v(" "),s("ol",[s("li",[t._v("传入一个 getter 函数，返回一个默认不可手动修改的 ref 对象。")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" number "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" numberAdd "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("numberAdd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n\nnumberAdd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误！")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("传入一个拥有 get 和 set 函数的对象，创建一个可手动修改的计算状态。")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" number "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" numberAdd "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nnumberAdd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#readonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("readonly")])]),t._v(" "),s("p",[t._v("传入一个对象（响应式或普通）或 ref，返回一个原始对象的只读代理。一个只读的代理是“深层的”，对象内部任何嵌套的属性也都是只读的。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" number "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reatcive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" number"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" number_copy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readonly")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nnumber"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可执行")]),t._v("\nnumber_copy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//无法修改,报警告")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"watcheffect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watcheffect"}},[t._v("#")]),t._v(" "),s("code",[t._v("watchEffect")])]),t._v(" "),s("p",[t._v("立即执行传入的一个函数，并响应式追踪其依赖，并在其依赖变更时重新运行该函数。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" number "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> 打印出 0")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> 打印出 1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("ul",[s("li",[t._v("停止侦听\n当 "),s("code",[t._v("watchEffect")]),t._v(" 在组件的 "),s("code",[t._v("setup()")]),t._v(" 函数或生命周期钩子被调用时， 侦听器会被链接到该组件的生命周期，并在组件卸载时自动停止。")])]),t._v(" "),s("h3",{attrs:{id:"watch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[t._v("#")]),t._v(" "),s("code",[t._v("watch")])]),t._v(" "),s("p",[s("code",[t._v("watch")]),t._v("  完全等效于 2.x "),s("code",[t._v("this.$watch")]),t._v(" （以及 "),s("code",[t._v("watch")]),t._v(" 中相应的选项）。"),s("code",[t._v("watch")]),t._v(" 需要侦听特定的数据源，并在回调函数中执行副作用。默认情况是懒执行的，也就是说仅在侦听的源变更时才执行回调。")]),t._v(" "),s("h2",{attrs:{id:"工具类api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工具类api"}},[t._v("#")]),t._v(" 工具类API")]),t._v(" "),s("h3",{attrs:{id:"unref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unref"}},[t._v("#")]),t._v(" "),s("code",[t._v("unref")])]),t._v(" "),s("p",[t._v("如果参数是一个 "),s("code",[t._v("ref")]),t._v(" 则返回它的 "),s("code",[t._v("value")]),t._v("，否则返回参数本身。它是 "),s("code",[t._v("val = isRef(val) ? val.value : val")]),t._v(" 的语法糖。")]),t._v(" "),s("h3",{attrs:{id:"toref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#toref"}},[t._v("#")]),t._v(" "),s("code",[t._v("toRef")])]),t._v(" "),s("p",[s("code",[t._v("toRef")]),t._v(" 可以用来为一个 reactive 对象的属性创建一个 ref。这个 ref 可以被传递并且能够保持响应性")]),t._v(" "),s("h3",{attrs:{id:"torefs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#torefs"}},[t._v("#")]),t._v(" "),s("code",[t._v("toRefs")])]),t._v(" "),s("p",[t._v("把一个响应式对象转换成普通对象，该普通对象的每个 "),s("code",[t._v("property")]),t._v(" 都是一个 "),s("code",[t._v("ref")]),t._v(" ，和响应式对象"),s("code",[t._v("property")]),t._v("一一对应。")]),t._v(" "),s("h3",{attrs:{id:"isref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isref"}},[t._v("#")]),t._v(" "),s("code",[t._v("isRef")])]),t._v(" "),s("p",[t._v("检查一个值是否为一个 ref 对象。")]),t._v(" "),s("h3",{attrs:{id:"isproxy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isproxy"}},[t._v("#")]),t._v(" "),s("code",[t._v("isProxy")])]),t._v(" "),s("p",[t._v("检查一个对象是否是由 reactive 还是 readonly 方法创建的代理。")]),t._v(" "),s("h3",{attrs:{id:"isreactive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isreactive"}},[t._v("#")]),t._v(" "),s("code",[t._v("isReactive")])]),t._v(" "),s("p",[t._v("检查一个对象是否是由 reactive 创建的响应式代理。")]),t._v(" "),s("p",[t._v("如果这个代理是由 readonly 创建的，但是又被 reactive 创建的另一个代理包裹了一层，那么同样也会返回 true。")]),t._v(" "),s("h3",{attrs:{id:"isreadonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isreadonly"}},[t._v("#")]),t._v(" "),s("code",[t._v("isReadonly")])]),t._v(" "),s("p",[t._v("检查一个对象是否是由 readonly 创建的只读代理。")]),t._v(" "),s("h2",{attrs:{id:"vuex的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex的使用"}},[t._v("#")]),t._v(" vuex的使用")]),t._v(" "),s("h2",{attrs:{id:"vue-router的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-router的使用"}},[t._v("#")]),t._v(" vue-router的使用")])])}),[],!1,null,null,null);a.default=n.exports}}]);